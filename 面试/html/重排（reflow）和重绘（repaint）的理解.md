# 浏览器渲染流程

![[Pasted image 20220330051641.png]]
浏览器渲染流程如下：

1.  解析 HTML Source，生成 DOM 树。
2.  解析 CSS，生成 CSSOM 树。
3.  将 DOM 树和 CSSOM 树结合，去除不可见元素，生成渲染树( Render Tree )。
4.  Layout (布局)：根据生成的渲染树，进行布局( Layout )，得到节点的几何信息(宽度、高度和位置等)。
5.  Painting (重绘):根据渲染树以及回流得到的几何信息，将 Render Tree 的每个像素渲染到屏幕上。



# 什么是回流

回流也叫重排。当 Render Tree 中部分或全部, 因元素的**尺寸、布局、隐藏**等改变而需要重新构建，浏览器重新渲染的过程称为 回流。


# 重绘(repaint)

当页面中**元素样式的改变并不影响布局**时（eg：color、background-color 字体改变（注意：字体大小发生变化时，会触发回流）等），浏览器会将新样式赋予给元素并重新绘制它，这个过程称为重绘。

**回流必将引起重绘，重绘不一定会引起回流。**


# 减少回流和重绘

#### 减少强制同步布局
#### 避免频繁操作 DOM
#### **开启GPU加速**

参考
[# 浏览器渲染之回流重绘](https://www.zoo.team/article/browser-redraw)