## 作用域

作用域是指程序源代码中定义变量的区域。

**作用域就是一个独立的地盘，让变量不会外泄、暴露出去**。

**作用域最大的用处就是隔离变量，不同作用域下同名变量不会有冲突。**

## 静态作用域与动态作用域

因为 JavaScript 采用的是词法作用域，函数的作用域在函数定义的时候就决定了。

而与词法作用域相对的是动态作用域，函数的作用域是在函数调用的时候才决定的。

```js
var value = 1;

function foo() {
    console.log(value);
}

function bar() {
    var value = 2;
    foo();
}

bar();
//2

```

## 作用域与执行上下文

许多开发人员经常混淆作用域和执行上下文的概念，误认为它们是相同的概念，但事实并非如此。

我们知道JavaScript属于解释型语言，JavaScript的执行分为：解释和执行两个阶段,这两个阶段所做的事并不一样：

### 解释阶段：

- 词法分析
- 语法分析
- 作用域规则确定

### 执行阶段：

- 创建执行上下文
- 执行函数代码
- 垃圾回收

JavaScript解释阶段便会确定作用域规则，因此作用域在函数定义时就已经确定了，而不是在函数调用时确定，但是执行上下文是函数执行之前创建的。执行上下文最明显的就是this的指向是执行时确定的。而作用域访问的变量是编写代码的结构确定的。

作用域和执行上下文之间最大的区别是：
**执行上下文在运行时确定，随时可能改变；作用域在定义时就确定，并且不会改变**。

一个作用域下可能包含若干个上下文环境。有可能从来没有过上下文环境（函数从来就没有被调用过）；有可能有过，现在函数被调用完毕后，上下文环境被销毁了；有可能同时存在一个或多个（闭包）。**同一个作用域下，不同的调用会产生不同的执行上下文环境，继而产生不同的变量的值**。











## 作用域和执行上下文

区别：

* 全局只有一个，每个函数和块都有一个局部作用域，在函数定义的一刻确定好了，也就是静态作用域
* 全局执行上下文在全局作用域确定后，js代码执行前创建
* 函数执行上下文在调用前，函数体执行前调用
* 作用域是静态的，执行上下文是动态的，在调用时创建，结束后释放

联系：

* 上下文环境是从属所在作用域

  

  



## 



 



