### 类数组和数组的区别是什么？

共同点：都有length长度，

不同点：类数组是普通对象，数组是真的数组类型；**类数组没有数组方法**，

类数组转换数组方法

* ```js
  Array.prototype.slice.call(arrayLike, start);
  //通过数组浅拷贝的方式，实现一个新的数组拷贝
  ```

* ```js
  [...arrayLike];
  //同理，但这里使用es6的扩展运算符
  ```

* ```js
  Array.from(arrayLike);
  //
  ```





### 手写instance

```js
function instanceOf(L,R) {
    let proto = Object.getPrototypeOf(L),
    constructorPrototype = R.prototype
    while(true){
        if(proto === null){
            return false
        }
        if(proto === constructorPrototype){
            return true
        }
        proto = Object.getPrototypeOf(proto)
    }
}
```



### 手写New

原理：

1. 创建一个空对象
2. 将对象的原型设置为函数的prototype对象
3. 让函数的this指向这个对象，执行构造函数代码
4. 判断函数返回值

```js
function objectFactory(Constructor, ...argments){
    const newObjct = Object.create(Constructor.p)
        newObjct = 
        
}
```

'







### 浏览器如何工作的

1. 浏览器首先使用 HTTP 协议或者 HTTPS 协议，向服务端请求页面；
2. 把请求回来的 HTML 代码经过解析，构建成 DOM 树；
3. 计算 DOM 树上的 CSS 属性；
4. 最后根据 CSS 属性对元素逐个进行渲染，得到内存中的位图；
5. 一个可选的步骤是对位图进行合成，这会极大地增加后续绘制的速度；
6. 合成之后，再绘制到界面上。

![image-20211207155846790](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211207155846790.png)



### 类数组如何使用数组方法

1.  用call方法实现

```js
let arrayLike = {0: 'name', 1: 'age', 2: 'sex', length: 3 }

Array.prototype.join.call(arrayLike, '&'); // name&age&sex

Array.prototype.slice.call(arrayLike, 0); // ["name", "age", "sex"] 
// slice可以做到类数组转数组

Array.prototype.map.call(arrayLike, function(item){
    return item.toUpperCase();
}); 
// ["NAME", "AGE", "SEX"]
```

2. 直接转换成数组

```js
var arrayLike = {0: 'name', 1: 'age', 2: 'sex', length: 3 }
// 1. slice
Array.prototype.slice.call(arrayLike); // ["name", "age", "sex"] 
// 2. splice
Array.prototype.splice.call(arrayLike, 0); // ["name", "age", "sex"] 
// 3. ES6 Array.from
Array.from(arrayLike); // ["name", "age", "sex"] 
// 4. apply
Array.prototype.concat.apply([], arrayLike)
```

