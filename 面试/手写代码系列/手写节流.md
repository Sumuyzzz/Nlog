## 节流
定义：不管事件触发频率多高，只在单位时间内执行一次

根据首次是否执行以及结束后是否执行，效果有所不同，实现的方式也有所不同。
### 实现

###### 时间戳
首次触发，最后一次不触发
```js
function throttle(event, delay) {
    let preTime = 0;
    return function(...args) {
        if (Date.now() - preTime > delay) {
            preTime = Date.now();
            event.apply(this,args)
        }
    }
}
```
思路：先初始化时间，根据调用时的时间减去初始值，如果大于间隔，就执行回调。



###### 定时器
首次不触发，最后一次触发
``` js
    function throttle(event, delay) {
      let timerId = null;
      return function (...args) {
        if (!timerId) {
          timerId = setTimeout(() => {
            timerId = null;
            event.apply(this, args);
          }, delay);
        }
      }
    }
```
思路：先给定时器id置空，接着判断定时器id如果为空，就生成并绑定一个定时器，把间隔传入定时器执行回调。


##### 完整版
思路：

```js
    function throttle(event, delay) {
      let preTime = 0;
      let timerId = null;
      return function (...args) {
        if (Date.now() - pre > time) {
          clearTimeout(timer);
          timerId = null;
          pre = Date.now();
          event.apply(this, args);
        } else if (!timer) {
          timerId = setTimeout(() => {
            event.apply(this, args);
          }, delay);
        }
      }
    }
```
